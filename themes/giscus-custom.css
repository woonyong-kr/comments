/* =========================================================
   0) 공통 색 변수 
   ========================================================= */
:root{
  --c-accent: #2AC1BC;     /* 포인트 */
  --c-black:  #000;
  --c-white:  #FFF;
  --c-border: #eaeaea;     /* 연한 경계 */
  --c-border-strong:#d1d5db;/* 포커스 시 조금 진한 회색 */
  --c-muted:  #666;
  --c-soft:   #ededed;     /* 소프트 배경(코드·하이라이트) */
  --c-soft-2: #f6f6f6;     /* 더 연한 소프트 배경 */
}

/* Primer 토큰 중 테두리·배경 계열만 완화 (전체 톤을 흰/연회색으로 맞춤) */
:root{
  --color-fg-default: #000;
  --color-fg-muted: var(--c-muted);
  --color-canvas-default: var(--c-white);
  --color-canvas-subtle:  var(--c-white);
  --color-border-default: var(--c-border);
  --color-border-muted:   var(--c-border);

  /* 기본 버튼(흰 바탕) */
  --color-btn-text:   #000;
  --color-btn-bg:     var(--c-white);
  --color-btn-border: transparent;
  --color-btn-hover-bg: var(--c-white);
  --color-btn-hover-border: transparent;
  --color-btn-hover-shadow: none;
  --color-btn-inset-shadow: none;
  --color-btn-active-bg: var(--c-white);

  /* 주요 버튼(검정 → 호버 시 포인트) */
  --color-btn-primary-text:   #FFF;
  --color-btn-primary-bg:     var(--c-black);
  --color-btn-primary-border: transparent;
  --color-btn-primary-hover-bg: var(--c-accent);
  --color-btn-primary-active-bg: var(--c-accent);
}

/* =========================================================
   1) 카드/레이아웃 : 테두리·그림자 제거 + 불필요한 구분선 제거
   ========================================================= */
.gsc-comment,
.gsc-comment > .gsc-comment-content,
.gsc-comment .gsc-replies,
.gsc-comment-footer,
.gsc-comment-box{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* 댓글 카드 하단선 없음 + 댓글 사이 중앙선 방지 */
.gsc-comment{ border-bottom: 0 !important; }
.gsc-comment + .gsc-comment{ border-top: 0 !important; }

/* 작성 영역은 리스트와의 경계만 약하게 유지하고 싶을 때(선택 사용) */
/* .gsc-comment-box{ border-bottom: 1px solid var(--c-border) !important; } */

/* 답글 바깥 흰 배경 상자 : 윗변은 직선, 아래만 둥글게 */
.gsc-reply-box,
.gsc-comment .gsc-replies{
  background: var(--c-white) !important;
  border: 0 !important;
  box-shadow: none !important;
  border-radius: 0 0 20px 20px !important;
}

/* =========================================================
   2) 정렬 토글(오래된 순 / 새로운 순) : 필 모양, 상태별 색상
   ========================================================= */

/* giscus 헤더의 BtnGroup/btn-outline 까지 한 번에 캐치 */
.giscus .gsc-header .gsc-order :is(button,.BtnGroup-item,.btn,.btn-outline){
  border-radius: 9999px !important;          /* 양끝 반원 */
  border: 1px solid var(--c-border) !important; /* 비활성 테두리 */
  background: var(--c-white) !important;     /* 비활성 배경 */
  color: #000 !important;                    /* 비활성 텍스트 */
  box-shadow: none !important;
}
/* 선택됨: 검정 배경/흰 글자/외곽선 제거 (aria-pressed/aria-selected 모두 대응) */
.giscus .gsc-header .gsc-order :is(
  button[aria-pressed="true"],
  .BtnGroup-item[aria-selected="true"],
  .btn[aria-pressed="true"]
){
  background: var(--c-black) !important;
  color: #fff !important;
  border-color: transparent !important;
}
/* 호버: 포인트 배경/흰 글자/외곽선 제거 */
.giscus .gsc-header .gsc-order :is(button,.BtnGroup-item,.btn):hover{
  background: var(--c-accent) !important;
  color: #fff !important;
  border-color: transparent !important;
}

/* =========================================================
   3) 반응(이모지) : 외곽선/배경/그림자 제거(선택됨 포함)
   ========================================================= */
.gsc-reactions .btn,
.gsc-reactions .Button,
.gsc-reaction-summary .btn,
.gsc-reaction-summary .Button,
.gsc-reactions .gsc-reaction-button,
.gsc-reactions .gsc-reaction-button[aria-pressed="true"]{
  border: 0 !important;
  box-shadow: none !important;
  background: #FFF0 !important;               /* 완전 투명 */
}

/* 상단 헤더의 “반응” 집계줄은 숨김(필요 시 사용) */
/* .gsc-header [data-reactions]{ display:none !important; } */

/* =========================================================
   4) 배지/버튼 : 소유자 배지, 로그인/등록/취소 버튼
   ========================================================= */
.Label, .IssueLabel, .gsc-comment .Label{
  background: var(--c-accent) !important;      /* 소유자 배지 */
  color: #fff !important;
  border: 0 !important;
}

.gsc-login-button .btn-primary,
.gsc-comment-box .btn-primary{
  border-radius: 9999px !important;            /* 로그인/등록 */
  background: var(--c-black) !important;
  color: #fff !important;
  border: 0 !important;
  box-shadow: none !important;
}
.gsc-login-button .btn-primary:hover,
.gsc-comment-box .btn-primary:hover{
  background: var(--c-accent) !important;      /* 호버: 포인트 */
}

/* 취소 버튼 : 얇은 테두리 → 호버 시 포인트 배경 */
.gsc-comment-box .btn:not(.btn-primary){
  border-radius: 9999px !important;
  background: var(--c-white) !important;
  color: #000 !important;
  border: 1px solid var(--c-border) !important;
  box-shadow: none !important;
}
.gsc-comment-box .btn:not(.btn-primary):hover{
  background: var(--c-accent) !important;
  color: #fff !important;
  border-color: transparent !important;
}

/* 로그인 버튼 라벨을 “로그인”으로 축약 */
.gsc-login-button .btn-primary > span{ font-size:0 !important; }
.gsc-login-button .btn-primary > span::after{
  content: "로그인"; font-size:14px; line-height:1; margin-left:6px;
}

/* =========================================================
   5) 입력영역/포커스 : 필 모양 통일 + 포커스 링 제거
   ========================================================= */
/* 컨테이너 패딩을 줄여 textarea 가 부모 폭을 꽉 채우게 */
.giscus .gsc-comment-box{
  padding-left: 0 !important;
  padding-right: 0 !important;
}
/* textarea 가로 채움 + 똑같은 둥근 사각형 유지 */
.giscus .gsc-comment-box textarea{
  width: 100% !important;
  box-sizing: border-box !important;
  border: 1px solid var(--c-border) !important;
  border-radius: 24px !important;
  background: var(--c-white) !important;
  margin: 0 !important;
  outline: 0 !important;
  box-shadow: none !important;               /* 진한 포커스 제거 */
}
/* 포커스 시에도 진한 하이라이트/청록 링 방지 */
.giscus .gsc-comment-box textarea:focus{
  border-color: var(--c-border-strong) !important;
  box-shadow: none !important;
}
/* textarea 아래쪽에 깔리는 보조 하이라이트 박스 제거(있을 경우) */
.giscus .gsc-reply + *{
  border: 0 !important;
  box-shadow: none !important;
}

/* 포커스가 들어올 때 래퍼에 생기는 추가 보더/그림자 제거 */
.giscus :is(.gsc-reply, .gsc-replies .gsc-reply, .gsc-comment-box){
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* 탭(작성하기/미리보기) 외곽선 제거 */
.gsc-comment-box .tabnav,
.gsc-comment-box .tabnav-tab{
  background: var(--c-white) !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* =========================================================
   6) 마크다운 렌더링 : 제목/구분선/인용/코드 스타일
   ========================================================= */
.markdown-body h1,
.markdown-body h2{                                 /* 제목 하단선 완화 */
  border-bottom: 1px solid var(--c-border) !important;
}
.markdown-body hr{                                  /* 구분선 연하게 */
  background-color: var(--c-border) !important;
  border: 0 !important;
  height: 1px !important;
}
.markdown-body blockquote{                           /* 인용 배경·바 */
  border-left: 4px solid var(--c-border) !important;
  background: var(--c-soft-2) !important;
}

/* gfm은 .markdown-body .highlight pre 를 쓰므로 둘 다 지정 */
.giscus :is(.markdown-body,.gsc-comment-box-markdown) :is(pre, .highlight pre){
  background: #292C33 !important;            /* 요청 색 */
  color: #f6f8fa !important;
  border: 0 !important;
  border-radius: 8px !important;
  padding: 12px !important;
  overflow: auto !important;
}
/* 코드블록 내부 code 는 투명 처리(이중 배경 방지) */
.giscus :is(.markdown-body,.gsc-comment-box-markdown) :is(pre, .highlight pre) > code{
  background: transparent !important;
  color: inherit !important;
}
/* 인라인 코드(블록 제외)는 소프트 회색 */
.giscus .markdown-body code:not(pre > code){
  background: var(--c-soft) !important;
  border: 1px solid #efefef !important;
  border-radius: 4px !important;
  padding: .1em .35em !important;
}

/* 코드 블록의 '복사' 버튼은 플랫화 */
.markdown-body .clipboard-btn,
.markdown-body .btn-octicon{
  border: 0 !important;
  box-shadow: none !important;
  background: var(--c-white) !important;
}
