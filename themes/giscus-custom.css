/* =========================================================
   0) 공통 색 변수 (포커스/강조색은 #2F81F7)
   ========================================================= */
:root{
  --c-accent: #2F81F7;        /* 포커스/강조 */
  --c-black:  #000;
  --c-white:  #FFF;
  --c-border: #eaeaea;        /* 연한 경계 */
  --c-border-strong:#d1d5db;  /* 살짝 더 진한 경계 */
  --c-muted:  #666;
  --c-soft:   #ededed;        /* 인라인 코드/강조 배경 */
  --c-soft-2: #f6f6f6;        /* 인용 등 아주 연한 배경 */
}

/* Primer 토큰 최소 매핑(톤 통일) */
:root{
  --color-fg-default: #000;
  --color-fg-muted: var(--c-muted);
  --color-canvas-default: var(--c-white);
  --color-canvas-subtle:  var(--c-white);
  --color-border-default: var(--c-border);
  --color-border-muted:   var(--c-border);

  /* 기본 버튼(흰 바탕) */
  --color-btn-text:   #000;
  --color-btn-bg:     var(--c-white);
  --color-btn-border: transparent;
  --color-btn-hover-bg: var(--c-white);
  --color-btn-hover-border: transparent;
  --color-btn-hover-shadow: none;
  --color-btn-inset-shadow: none;
  --color-btn-active-bg: var(--c-white);

  /* 주요 버튼(검정 → 호버 시 포인트) */
  --color-btn-primary-text:   #FFF;
  --color-btn-primary-bg:     var(--c-black);
  --color-btn-primary-border: transparent;
  --color-btn-primary-hover-bg: var(--c-accent);
  --color-btn-primary-active-bg: var(--c-accent);
}

/* =========================================================
   1) 레이아웃/카드 : 불필요한 테두리·그림자 제거
   ========================================================= */
.giscus .gsc-comment,
.giscus .gsc-comment > .gsc-comment-content,
.giscus .gsc-comment .gsc-replies,
.giscus .gsc-comment-footer,
.giscus .gsc-comment-box{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* 댓글 사이 중앙선 방지 */
.giscus .gsc-comment{ border-bottom: 0 !important; }
.giscus .gsc-comment + .gsc-comment{ border-top: 0 !important; }

/* 답글 컨테이너 : 위쪽 직선, 아래만 둥글게 */
.giscus .gsc-reply-box,
.giscus .gsc-comment .gsc-replies{
  background: var(--c-white) !important;
  border: 0 !important;
  box-shadow: none !important;
  border-radius: 0 0 20px 20px !important;
}

/* 작성하기 컨테이너 좌/우 패딩 제거 → 입력창이 부모 폭과 동일 */
.giscus .gsc-comment-box{
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* =========================================================
   2) 정렬 토글(오래된/새로운) : 상태별 색상/모양
   ========================================================= */
/* 비활성: 흰 배경/검정 텍스트/연한 테두리 */
.giscus .gsc-header .gsc-order :is(button,.BtnGroup-item,.btn,.btn-outline){
  border-radius: 9999px !important;
  border: 1px solid var(--c-border) !important;
  background: var(--c-white) !important;
  color: #000 !important;
  box-shadow: none !important;
}
/* 선택: 검정 배경/흰 텍스트/테두리 제거 */
.giscus .gsc-header .gsc-order :is(
  button[aria-pressed="true"],
  .BtnGroup-item[aria-selected="true"],
  .btn[aria-pressed="true"]
){
  background: var(--c-black) !important;
  color: #fff !important;
  border-color: transparent !important;
}
/* 호버: 포인트 배경/흰 텍스트/테두리 제거 */
.giscus .gsc-header .gsc-order :is(button,.BtnGroup-item,.btn):hover{
  background: var(--c-accent) !important;
  color: #fff !important;
  border-color: transparent !important;
}

/* =========================================================
   3) 반응(이모지) : 외곽선/그림자 제거 + 기본 흰 배경
   ========================================================= */
.giscus .gsc-reactions :is(.btn,.Button,.gsc-reaction-button),
.giscus .gsc-reaction-summary :is(.btn,.Button){
  border: 0 !important;
  box-shadow: none !important;
  background: #FFF !important; /* 선택 전/후 모두 흰 배경 유지 */
}

/* =========================================================
   4) 배지/버튼 : 소유자 배지, 로그인/등록/취소
   ========================================================= */
.giscus .Label, .giscus .IssueLabel, .giscus .gsc-comment .Label{
  background: var(--c-accent) !important;
  color: #fff !important;
  border: 0 !important;
}

/* 로그인/등록 버튼 : 검정 → 호버 시 포인트 */
.giscus .gsc-login-button .btn-primary,
.giscus .gsc-comment-box .btn-primary{
  border-radius: 9999px !important;
  background: var(--c-black) !important;
  color: #fff !important;
  border: 0 !important;
  box-shadow: none !important;
}
.giscus .gsc-login-button .btn-primary:hover,
.giscus .gsc-comment-box .btn-primary:hover{
  background: var(--c-accent) !important;
}

/* 취소 버튼 : 얇은 테두리 → 호버 시 포인트 배경 */
.giscus .gsc-comment-box .btn:not(.btn-primary){
  border-radius: 9999px !important;
  background: var(--c-white) !important;
  color: #000 !important;
  border: 1px solid var(--c-border) !important;
  box-shadow: none !important;
}
.giscus .gsc-comment-box .btn:not(.btn-primary):hover{
  background: var(--c-accent) !important;
  color: #fff !important;
  border-color: transparent !important;
}

/* 로그인 라벨을 “로그인”으로 축약 */
.giscus .gsc-login-button .btn-primary > span{ font-size:0 !important; }
.giscus .gsc-login-button .btn-primary > span::after{
  content: "로그인"; font-size:14px; line-height:1; margin-left:6px;
}

/* =========================================================
   5) 입력영역 : 모양 통일 + 기본 포커스 제거(아래 7번에서 복원)
   ========================================================= */
.giscus :is(.gsc-comment-box textarea, .gsc-replies textarea, .gsc-reply-box textarea, textarea){
  width: 100% !important;
  box-sizing: border-box !important;
  background: var(--c-white) !important;
  border: 1px solid var(--c-border) !important;
  border-radius: 24px !important;
  margin: 0 !important;
  outline: 0 !important;
  box-shadow: none !important;
}

/* 탭(작성하기/미리보기) 외곽선 제거 */
.giscus .gsc-comment-box :is(.tabnav, .tabnav-tab){
  background: var(--c-white) !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* =========================================================
   6) 마크다운 : 제목/구분선/인용/코드
   ========================================================= */
.giscus .markdown-body h1,
.giscus .markdown-body h2{
  border-bottom: 1px solid var(--c-border) !important;
}
.giscus .markdown-body hr{
  background-color: var(--c-border) !important;
  border: 0 !important;
  height: 1px !important;
}
.giscus .markdown-body blockquote{
  border-left: 4px solid var(--c-border) !important;
  background: var(--c-soft-2) !important;
}

/* GFM 코드블록(.highlight pre 포함) */
.giscus :is(.markdown-body,.gsc-comment-box-markdown) :is(pre, .highlight pre){
  background: #292C33 !important;
  color: #f6f8fa !important;
  border: 0 !important;
  border-radius: 8px !important;
  padding: 12px !important;
  overflow: auto !important;
}
/* 블록 내부 code 이중 배경 방지 */
.giscus :is(.markdown-body,.gsc-comment-box-markdown) :is(pre, .highlight pre) > code{
  background: transparent !important;
  color: inherit !important;
}

/* 인라인 코드/강조 */
.giscus .markdown-body code:not(pre > code),
.giscus .markdown-body tt,
.giscus .markdown-body kbd,
.giscus .markdown-body mark{
  background: var(--c-soft) !important;
  border: 1px solid #efefef !important;
  border-radius: 4px !important;
  padding: .1em .35em !important;
}

/* 코드 복사 버튼 평면화 */
.giscus .markdown-body :is(.clipboard-btn, .btn-octicon){
  border: 0 !important;
  box-shadow: none !important;
  background: var(--c-white) !important;
}

/* =========================================================
   7) 포커스/선택 하이라이트 “복원” (요청 색상 #2F81F7)
   ========================================================= */
/* 입력창: 포커스 시 파란 하이라이트 */
.giscus .gsc-comment-box:focus-within,
.giscus .gsc-reply:focus-within,
.giscus .gsc-replies .gsc-reply:focus-within{
  box-shadow: 0 0 0 3px var(--c-accent) !important;  /* 외곽 링 */
  border-radius: 28px !important;
  background: #fff !important;
}
.giscus :is(.gsc-comment-box textarea, .gsc-replies textarea, .gsc-reply-box textarea):focus{
  border-color: var(--c-accent) !important;          /* 테두리 색상 */
  box-shadow: 0 0 0 2px var(--c-accent) inset !important; /* 안쪽 살짝 강조 */
}

/* 이모지: 선택/포커스 시 굵은 파란 링 + 흰 배경 유지 */
.giscus .gsc-reactions .gsc-reaction-button:is(:focus-visible,[aria-pressed="true"]){
  background: #fff !important;
  border: 0 !important;
  outline: 0 !important;
  box-shadow: 0 0 0 3px var(--c-accent) !important;   /* 두꺼운 링 */
  border-radius: 9999px !important;                  /* 동그란 칩 */
}
