/* =========================================================
   0) 공통 색 변수 
   ========================================================= */
:root{
  --c-accent: #2AC1BC;        /* 포인트 */
  --c-black:  #000;           /* 검정 */
  --c-white:  #FFF;           /* 흰색 */
  --c-border: #eaeaea;        /* 연한 경계 */
  --c-border-strong:#d1d5db;  /* 포커스 시 살짝 진한 경계 */
  --c-muted:  #666;           /* 보조 텍스트 */
  --c-soft:   #ededed;        /* 소프트 배경(인라인 코드 등) */
  --c-soft-2: #f6f6f6;        /* 더 연한 소프트 배경 */
}

/* Primer 토큰 최소 매핑(톤 통일) */
:root{
  --color-fg-default: #000;
  --color-fg-muted: var(--c-muted);
  --color-canvas-default: var(--c-white);
  --color-canvas-subtle:  var(--c-white);
  --color-border-default: var(--c-border);
  --color-border-muted:   var(--c-border);

  /* 기본 버튼(흰 바탕) */
  --color-btn-text:   #000;
  --color-btn-bg:     var(--c-white);
  --color-btn-border: transparent;
  --color-btn-hover-bg: var(--c-white);
  --color-btn-hover-border: transparent;
  --color-btn-hover-shadow: none;
  --color-btn-inset-shadow: none;
  --color-btn-active-bg: var(--c-white);

  /* 주요 버튼(검정 → 호버 시 포인트) */
  --color-btn-primary-text:   #FFF;
  --color-btn-primary-bg:     var(--c-black);
  --color-btn-primary-border: transparent;
  --color-btn-primary-hover-bg: var(--c-accent);
  --color-btn-primary-active-bg: var(--c-accent);
}

/* =========================================================
   1) 레이아웃/카드 : 불필요한 테두리·그림자 제거
   ========================================================= */
.giscus .gsc-comment,
.giscus .gsc-comment > .gsc-comment-content,
.giscus .gsc-comment .gsc-replies,
.giscus .gsc-comment-footer,
.giscus .gsc-comment-box{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* 댓글 사이 중앙선 방지 */
.giscus .gsc-comment{ border-bottom: 0 !important; }
.giscus .gsc-comment + .gsc-comment{ border-top: 0 !important; }

/* 답글 컨테이너 : 위는 직선, 아래만 둥글게 */
.giscus .gsc-reply-box,
.giscus .gsc-comment .gsc-replies{
  background: var(--c-white) !important;
  border: 0 !important;
  box-shadow: none !important;
  border-radius: 0 0 20px 20px !important;
}

/* 작성하기 컨테이너 좌/우 패딩 제거 → 입력창이 부모 폭과 동일 */
.giscus .gsc-comment-box{
  padding-left: 0 !important;
  padding-right: 0 !important;
}

/* =========================================================
   2) 정렬 토글(오래된/새로운) : 상태별 색상/모양
   ========================================================= */
/* 비활성: 흰 배경/검정 텍스트/연한 테두리 */
.giscus .gsc-header .gsc-order :is(button,.BtnGroup-item,.btn,.btn-outline){
  border-radius: 9999px !important;                 /* 양끝 반원 */
  border: 1px solid var(--c-border) !important;
  background: var(--c-white) !important;
  color: #000 !important;
  box-shadow: none !important;
}
/* 선택: 검정 배경/흰 텍스트/테두리 제거 */
.giscus .gsc-header .gsc-order :is(
  button[aria-pressed="true"],
  .BtnGroup-item[aria-selected="true"],
  .btn[aria-pressed="true"]
){
  background: var(--c-black) !important;
  color: #fff !important;
  border-color: transparent !important;
}
/* 호버: 포인트 배경/흰 텍스트/테두리 제거 */
.giscus .gsc-header .gsc-order :is(button,.BtnGroup-item,.btn):hover{
  background: var(--c-accent) !important;
  color: #fff !important;
  border-color: transparent !important;
}

/* =========================================================
   3) 반응(이모지) : 외곽선/배경 제거(선택됨 포함)
   ========================================================= */
.giscus .gsc-reactions :is(.btn,.Button,.gsc-reaction-button),
.giscus .gsc-reaction-summary :is(.btn,.Button){
  border: 0 !important;
  box-shadow: none !important;
  background: #FFF0 !important;                      /* 완전 투명 */
}
.giscus .gsc-reactions .gsc-reaction-button[aria-pressed="true"]{
  background: #FFF0 !important;
  border: 0 !important;
}

/* (선택) 헤더의 반응 집계줄 숨김 → 필요 시 주석 해제 */
/* .giscus .gsc-header [data-reactions]{ display:none !important; } */

/* =========================================================
   4) 배지/버튼 : 소유자 배지, 로그인/등록/취소
   ========================================================= */
.giscus .Label, .giscus .IssueLabel, .giscus .gsc-comment .Label{
  background: var(--c-accent) !important;           /* 소유자 배지 */
  color: #fff !important;
  border: 0 !important;
}

/* 로그인/등록 버튼 : 검정 → 호버 시 포인트, 필 모양 */
.giscus .gsc-login-button .btn-primary,
.giscus .gsc-comment-box .btn-primary{
  border-radius: 9999px !important;
  background: var(--c-black) !important;
  color: #fff !important;
  border: 0 !important;
  box-shadow: none !important;
}
.giscus .gsc-login-button .btn-primary:hover,
.giscus .gsc-comment-box .btn-primary:hover{
  background: var(--c-accent) !important;
}

/* 취소 버튼 : 얇은 테두리 → 호버 시 포인트 배경 */
.giscus .gsc-comment-box .btn:not(.btn-primary){
  border-radius: 9999px !important;
  background: var(--c-white) !important;
  color: #000 !important;
  border: 1px solid var(--c-border) !important;
  box-shadow: none !important;
}
.giscus .gsc-comment-box .btn:not(.btn-primary):hover{
  background: var(--c-accent) !important;
  color: #fff !important;
  border-color: transparent !important;
}

/* 로그인 라벨을 “로그인”으로 축약 */
.giscus .gsc-login-button .btn-primary > span{ font-size:0 !important; }
.giscus .gsc-login-button .btn-primary > span::after{
  content: "로그인"; font-size:14px; line-height:1; margin-left:6px;
}

/* =========================================================
   5) 입력영역 : 모양 통일 + 포커스 하이라이트 제거
   ========================================================= */
.giscus :is(.gsc-comment-box textarea, .gsc-replies textarea, .gsc-reply-box textarea, textarea){
  width: 100% !important;
  box-sizing: border-box !important;
  background: var(--c-white) !important;
  border: 1px solid var(--c-border) !important;
  border-radius: 24px !important;                     /* 둥근 사각형 */
  margin: 0 !important;
  outline: 0 !important;
  box-shadow: none !important;                         /* 진한 포커스 제거 */
}
.giscus :is(.gsc-comment-box textarea, .gsc-replies textarea, .gsc-reply-box textarea):focus{
  border-color: var(--c-border-strong) !important;     /* 살짝만 진하게 */
  box-shadow: none !important;
}

/* 포커스 시 래퍼에 생기는 보조 보더/그림자 제거 */
.giscus :is(.gsc-reply, .gsc-replies .gsc-reply, .gsc-comment-box){
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* 탭(작성하기/미리보기) 외곽선 제거 */
.giscus .gsc-comment-box :is(.tabnav, .tabnav-tab){
  background: var(--c-white) !important;
  border: 0 !important;
  box-shadow: none !important;
}

/* 마크다운 도움/힌트 숨김 */
.giscus .gsc-comment-box :is([title*="Markdown"], [aria-label*="Markdown"], [title*="마크다운"], .markdown-hint, .tooltipped){
  display: none !important;
}

/* =========================================================
   6) 마크다운 : 제목/구분선/인용/코드
   ========================================================= */
/* 제목 하단선 완화 */
.giscus .markdown-body h1,
.giscus .markdown-body h2{
  border-bottom: 1px solid var(--c-border) !important;
}
/* 구분선 연하게 */
.giscus .markdown-body hr{
  background-color: var(--c-border) !important;
  border: 0 !important;
  height: 1px !important;
}
/* 인용 : 연한 배경 + 좌측 연회색 바 */
.giscus .markdown-body blockquote{
  border-left: 4px solid var(--c-border) !important;
  background: var(--c-soft-2) !important;
}

/* 코드 블록 : .highlight pre 포함(깃헙 렌더러) */
.giscus :is(.markdown-body,.gsc-comment-box-markdown) :is(pre, .highlight pre){
  background: #292C33 !important;                       /* 어두운 판넬 */
  color: #f6f8fa !important;
  border: 0 !important;
  border-radius: 8px !important;
  padding: 12px !important;
  overflow: auto !important;
}
/* 블록 내부 code 이중 배경 방지 */
.giscus :is(.markdown-body,.gsc-comment-box-markdown) :is(pre, .highlight pre) > code{
  background: transparent !important;
  color: inherit !important;
}

/* 인라인 코드/강조 */
.giscus .markdown-body code:not(pre > code),
.giscus .markdown-body tt,
.giscus .markdown-body kbd,
.giscus .markdown-body mark{
  background: var(--c-soft) !important;
  border: 1px solid #efefef !important;
  border-radius: 4px !important;
  padding: .1em .35em !important;
}

/* 코드 블록의 클립보드 버튼 평면화 */
.giscus .markdown-body :is(.clipboard-btn, .btn-octicon){
  border: 0 !important;
  box-shadow: none !important;
  background: var(--c-white) !important;
}
